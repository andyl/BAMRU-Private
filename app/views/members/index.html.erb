<%= javascript_include_tag "checkbox.js" %>
<%= javascript_include_tag "equal_height.js" %>
<%= javascript_include_tag "jquery.tablesorter.min.js" %>
<%= javascript_include_tag "members.js" %>
<script type="text/javascript">
  $(document).ready(function()
  {
    $.tablesorter.addParser({
      id: 'last_name',
      is: function(s) { return false; },    // turn off format auto-detect
      format: function(s) { return ((new MemberName(s)).last_name()); },
      type: 'text'    // either numeric or text
    });
    $.tablesorter.addParser({
      id: 'role_score',
      is: function(s) { return false; },    // turn off format auto-detect
      format: function(s) { return ((new RoleScore(s)).score()); },
      type: 'text'    // either numeric or text
    });
    $("#myTable").tablesorter({headers: {
                                           0: {sorter: 'role_score'},
                                           1: {sorter:false},
                                           2: {sorter:false},
                                           3: {sorter:'last_name'}
                                }});
  });
</script>

<div id=x_container>
  <div id=x_body>
    <div id=x_header>
      Team Roster / Paging
    </div>
    <div id=x_left_col>
      <table id="myTable" class="tablesorter">
        <thead>
        <tr>
          <th>Role</th>
          <th><img src="/images/page.gif" border=0></th>
          <th><img src="/images/mail.gif" border=0></th>
          <th>Name</th>
        </tr>
        </thead>
        <tbody>
        <% @members.each do |m| %>
        <tr>
          <td><%= m.full_roles %></td>
          <td class=checkbox><input class="<%= m.full_roles %>" type="checkbox"></td>
          <td class=checkbox><input class="<%= m.full_roles %>" type="checkbox"></td>
          <td class=link><a href="/members/<%= m.id %>"><%= m.full_name %></a></td>
        </tr>
        <% end %>
        </tbody>
      </table>
    </div>
    <div id=x_right_col>
      Select by member type:<br/>
      <input type="checkbox" class="slx" id=cb_Bd> Board of Directors (Bd)<br/>
      <input type="checkbox" class="slx" id=cb_OL> Operations Leader (OL)<br/>
      <input type="checkbox" class="slx" id=cb_TM> Technical Member (TM)<br/>
      <input type="checkbox" class="slx" id=cb_FM> Field Member (FM)<br/>
      <input type="checkbox" class="slx" id=cb_T > Trainee (T)<br/>
      <input type="checkbox" class="slx" id=cb_R > Reserve (R)<br/>
      <input type="checkbox" class="slx" id=cb_S > Support (S)<br/>
      <input type="checkbox" class="slx" id=cb_A > Associate (A)<br/>

      <div style="margin-top:25px; margin-bottom:25px;">
        From:
        <select name="from_email">
          <option value="andy@r210.com">andy@r210.com</option>
        </select>
        <textarea id="messagearea" name="message" rows="10" cols="40" onKeyDown="lengthLimit(document.getElementById('messagearea'),document.getElementById('charsremaining'),132);" onKeyUp="lengthLimit(this.form.message,this.form.charsRemaining,132);"></textarea>
        <br> You have <div id="charsremaining" style="display:inline;">132</div> characters left.<br><br>
        <input type="submit" name="message_submit" value="Send message">
      </div>

      <%= render :partial => 'smso' %>

    </div>
    <div id=x_footer>
      footer content here
    </div>
  </div>
</div>

